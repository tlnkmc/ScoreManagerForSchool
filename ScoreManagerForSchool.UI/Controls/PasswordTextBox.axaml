<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="ScoreManagerForSchool.UI.Controls.PasswordTextBox"
             x:Name="PasswordTextBoxRoot">
  
  <Border BorderThickness="1" BorderBrush="{DynamicResource TextControlBorderBrush}" 
          Background="{DynamicResource TextControlBackground}" 
          CornerRadius="{DynamicResource ControlCornerRadius}">
    <Grid ColumnDefinitions="*, Auto">
      <TextBox x:Name="InnerPasswordTextBox" Grid.Column="0" 
               BorderThickness="0" Background="Transparent"
               PasswordChar="●" 
               Text="{Binding #PasswordTextBoxRoot.Text, Mode=TwoWay}"
               Watermark="{Binding #PasswordTextBoxRoot.Watermark}"/>
      
      <Button x:Name="ToggleButton" Grid.Column="1" 
              Background="Transparent" BorderThickness="0"
              Width="32" Height="32" 
              Click="TogglePasswordVisibility">
        <TextBlock x:Name="EyeIcon" Text="👁" FontSize="16" 
                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
      </Button>
    </Grid>
  </Border>
</UserControl>
