<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:ScoreManagerForSchool.UI.ViewModels"
             x:Class="ScoreManagerForSchool.UI.Views.InfoEntryView"
             x:DataType="vm:InfoEntryViewModel">
  <ScrollViewer>
    <Grid RowDefinitions="Auto,*,Auto" Margin="12" RowSpacing="8">
    <TextBlock Text="信息录入" FontSize="20" FontWeight="Bold"/>
    <StackPanel Grid.Row="1" Spacing="8">
      <TextBlock Text="当前处理："/>
      <TextBox IsReadOnly="True" Text="{Binding CurrentLineText}"/>
      <TextBox Name="PasteBox" AcceptsReturn="True" Height="160" Watermark="粘贴要添加的信息，一行一个。" Text="{Binding PasteText, Mode=TwoWay}"/>
      <Border Padding="8" BorderBrush="#DDD" BorderThickness="1" CornerRadius="6">
        <Grid ColumnDefinitions="*,*,*,*,*" RowDefinitions="Auto,Auto,Auto,Auto" ColumnSpacing="8" RowSpacing="6">
          <TextBlock Text="班级"/>
          <TextBlock Text="学号" Grid.Column="1"/>
          <TextBlock Text="姓名" Grid.Column="2"/>
          <TextBlock Text="原因" Grid.Column="3"/>
          <TextBlock Text="积分" Grid.Column="4"/>
          <ComboBox ItemsSource="{Binding ClassOptions}" SelectedItem="{Binding ClassInput, Mode=TwoWay}" Grid.Row="1"/>
          <TextBox Grid.Column="1" Grid.Row="1" Text="{Binding StudentIdInput, Mode=TwoWay}"/>
          <TextBox Grid.Column="2" Grid.Row="1" Text="{Binding NameInput, Mode=TwoWay}"/>
          <TextBox Grid.Column="3" Grid.Row="1" Text="{Binding ReasonInput, Mode=TwoWay}"/>
          <TextBox Grid.Column="4" Grid.Row="1" Text="{Binding ScoreInput, Mode=TwoWay}"/>
          
          <!-- 新增教师输入行 -->
          <TextBlock Text="任课教师" Grid.Row="2" Grid.ColumnSpan="2" Margin="0,8,0,0"/>
          <TextBox Grid.Row="3" Grid.ColumnSpan="3" Text="{Binding TeacherInput, Mode=TwoWay}" Watermark="输入教师姓名或拼音（可选）"/>
          <TextBlock Grid.Row="3" Grid.Column="3" Grid.ColumnSpan="2" Text="{Binding MatchedTeacherInfo}" 
                     Foreground="Gray" FontSize="12" VerticalAlignment="Center"/>
        </Grid>
      </Border>
    </StackPanel>
    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8">
      <Button Content="待处理" Command="{Binding AddToPendingCommand}"/>
      <Button Content="跳过" Command="{Binding SkipCommand}"/>
      <Button Content="下一个" Command="{Binding NextCommand}"/>
    </StackPanel>
    </Grid>
  </ScrollViewer>
</UserControl>
